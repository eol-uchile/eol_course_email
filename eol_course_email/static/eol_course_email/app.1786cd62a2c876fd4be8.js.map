{"version":3,"sources":["webpack:///./src/i18n/index.jsx","webpack:///./src/course_email/helpers/getUserEmail.jsx","webpack:///./src/course_email/helpers/getUsers.jsx","webpack:///./src/course_email/hooks/useFetchUserData.jsx","webpack:///./src/course_email/components/Menu.jsx","webpack:///./src/course_email/helpers/postSendEmail.jsx","webpack:///./src/course_email/hooks/useForm.jsx","webpack:///./src/course_email/components/StatusForm.jsx","webpack:///./src/course_email/components/NewEmailForm.jsx","webpack:///./src/course_email/components/EmailModal.jsx","webpack:///./src/course_email/components/EmailItem.jsx","webpack:///./src/course_email/components/EmptyGrid.jsx","webpack:///./src/course_email/components/EmailGrid.jsx","webpack:///./src/course_email/hooks/useResizeIFrame.jsx","webpack:///./src/course_email/helpers/getReceivedEmails.jsx","webpack:///./src/course_email/helpers/getSendedEmails.jsx","webpack:///./src/course_email/CourseEmailPage.jsx","webpack:///./src/course_email/helpers/getCourseInfo.jsx","webpack:///./src/assets/favicon.ico","webpack:///./src/index.jsx"],"names":["messages","ar","arMessages","fr","ca","caMessages","he","id","pl","ru","th","uk","getUserEmail","courseId","console","log","url","fetch","credentials","response","status","json","data","getUsers","users","map","u","username","name","profile__name","has_role","users_cache","Menu","useState","email","loading","state","setState","useEffect","then","useFetchUserEmail","className","Spinner","animation","variant","href","target","to","Button","size","icon","faArrowDown","faArrowUp","faPaperPlane","propTypes","PropTypes","string","isRequired","postSendEmail","formData","getAuthenticatedHttpClient","post","catch","error","StatusForm","Alert","NewEmailForm","length","useFetchUsers","initialState","values","setValues","handleInputChange","handleCheckboxChange","value","target_values","checked","splice","indexOf","handleSubmit","e","preventDefault","validateInputs","resetForm","studentsInput","staffInput","useForm","subjectInput","messageInput","Form","onSubmit","Group","controlId","Label","Control","required","placeholder","aria-describedby","onChange","as","Row","Col","filter","user","Check","type","key","label","includes","disabled","EmailModal","modalState","setModalState","resetModalWrapperState","modalRef","useRef","useLayoutEffect","window","parent","scrollTo","current","modalBodyRef","offsetTop","Modal","ref","open","title","body","date","sender","subject","message","receiver_users","onClose","buttons","onClick","data-autofocus","renderDefaultCloseButton","dialogClassName","object","bool","func","EmailItem","IconButton","faInfo","alt","EmptyGrid","faFrown","toLowerCase","lastHeight","lastWidth","EmailGrid","getEmails","emails","useFetchEmails","index","dispatchResizeMessage","event","eventType","newHeight","document","getElementById","offsetHeight","newWidth","offsetWidth","postMessage","payload","width","height","referrer","getReceivedEmails","sender_user__profile__name","Date","created_at","$date","toLocaleString","getSendedEmails","sender_user","receiver_users_list","CourseEmailPage","MutationObserver","observe","attributes","childList","subtree","addEventListener","removeEventListener","location","hash","substring","split","pop","exact","path","subscribe","APP_READY","ReactDOM","render","AppProvider","APP_INIT_ERROR","ErrorPage","initialize","appMessages"],"mappings":"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","file":"app.1786cd62a2c876fd4be8.js","sourcesContent":["import arMessages from './messages/ar.json';\nimport caMessages from './messages/ca.json';\n// no need to import en messages-- they are in the defaultMessage field\nimport es419Messages from './messages/es_419.json';\nimport frMessages from './messages/fr.json';\nimport zhcnMessages from './messages/zh_CN.json';\nimport heMessages from './messages/he.json';\nimport idMessages from './messages/id.json';\nimport kokrMessages from './messages/ko_kr.json';\nimport plMessages from './messages/pl.json';\nimport ptbrMessages from './messages/pt_br.json';\nimport ruMessages from './messages/ru.json';\nimport thMessages from './messages/th.json';\nimport ukMessages from './messages/uk.json';\n\nconst messages = {\n  ar: arMessages,\n  'es-419': es419Messages,\n  fr: frMessages,\n  'zh-cn': zhcnMessages,\n  ca: caMessages,\n  he: heMessages,\n  id: idMessages,\n  'ko-kr': kokrMessages,\n  pl: plMessages,\n  'pt-br': ptbrMessages,\n  ru: ruMessages,\n  th: thMessages,\n  uk: ukMessages,\n};\n\nexport default messages;\n","/* \n* Async function that calls eol_course_email api \n* It will return a string with user email\n*/\n\nexport const getUserEmail = async( courseId ) => {\n    console.log('getUserEmail loaded');\n    const url = `/courses/${ courseId }/course_emails/user_email`;\n    const response = await fetch(url, { credentials: \"same-origin\" });\n    if(response.status == 200) {\n        const data = await response.json();\n        return data;\n    } else {\n        return [];\n    }\n    \n};","/* \n* Async function that calls eol_course_email api \n* It will return a object with users enrolled\n*/\n\nexport const getUsers = async( courseId ) => {\n    console.log('getUsers loaded');\n    const url = `/courses/${ courseId }/course_emails/users`;\n    const response = await fetch(url, { credentials: \"same-origin\" });\n    if(response.status == 200) {\n        const data = await response.json();\n        const users = data.map( u => {\n            return {\n                username    : u.username,\n                name        : u.profile__name,\n                has_role    : u.has_role\n            }\n        });\n        return users;\n    } else {\n        return [];\n    }\n    \n};","import { useState, useEffect } from \"react\";\nimport { getUserEmail } from \"../helpers/getUserEmail\";\nimport { getUsers } from '../helpers/getUsers';\n\nexport const useFetchUserEmail = ( courseId ) =>  {\n    /*\n        Fetch user email\n    */\n    const [state, setState] = useState({\n        email: \"\",\n        loading: true\n    })\n\n    useEffect( () => {\n        getUserEmail( courseId )\n        .then( email => {\n            console.log('useFetchUserEmail loaded');\n            setState({\n                email: email,\n                loading: false\n            });\n        }) \n    }, [ ]);\n\n    return state;\n}\n\nexport const useFetchEmails = ( courseId, getEmails ) =>  {\n    /*\n        Fetch received/sended emails\n    */\n    const [state, setState] = useState({\n        data: [],\n        loading: true\n    })\n\n    useEffect( () => {\n        setState({\n            data: [],\n            loading: true\n        });\n        getEmails( courseId )\n            .then( emails => {\n                console.log('emails loaded');\n                setState({\n                    data: emails,\n                    loading: false\n                });\n            }) \n    }, [ getEmails ]);\n\n    return state;\n}\n\n\nvar users_cache = [];\n\nexport const useFetchUsers = ( courseId ) =>  {\n    /*\n        Fetch users enrolled\n    */\n    const [state, setState] = useState({\n        users: [],\n        loading: true\n    })\n\n    useEffect( () => {\n        if ( users_cache.length != 0 ) {\n            console.log('users cache loaded');\n            setState({\n                users: users_cache,\n                loading: false\n            });\n        } else {\n            getUsers( courseId )\n            .then( users => {\n                console.log('useFetchUsers loaded');\n                users_cache = users;\n                setState({\n                    users: users,\n                    loading: false\n                });\n            }) \n        }\n    }, [ ]);\n\n    return state;\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@edx/paragon';\nimport { Link } from 'react-router-dom';\nimport { Spinner } from '@edx/paragon';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPaperPlane, faArrowDown, faArrowUp } from '@fortawesome/free-solid-svg-icons';\nimport { useFetchUserEmail } from '../hooks/useFetchUserData';\n\nexport default function Menu({ courseId }) {\n    const { email, loading } = useFetchUserEmail(courseId);\n    console.log('Menu loaded');\n\n    return (\n        <div className=\"my-2\">\n            <div className=\"d-flex justify-content-center text-muted small\">\n                { loading && <Spinner animation=\"border\" variant=\"primary\" className=\"mx-auto mt-2 \"/> }\n                { !loading && <p>El correo electrónico que tienes registrado en la plataforma es <strong className=\"text-uppercase\">{ email }</strong> <i>(<a href=\"/account/settings\" target=\"_parent\">Actualizar correo</a>)</i></p> }\n            </div>\n            <div className=\"d-flex\">\n                <Link to={`/eol/eol_course_email/static/received/`}>\n                    <Button variant=\"outline-primary shadow-sm\" size=\"sm\"><FontAwesomeIcon icon={faArrowDown} className=\"mr-2\" />Recibidos</Button>\n                </Link>\n                <Link to={`/eol/eol_course_email/static/sended/`} className=\"mr-auto\">\n                    <Button variant=\"outline-primary shadow-sm\" size=\"sm\" className=\"mx-3\"><FontAwesomeIcon icon={faArrowUp} className=\"mr-2\" />Enviados</Button>\n                </Link>\n                <Link to={`/eol/eol_course_email/static/new/`}>\n                    <Button variant=\"primary shadow-sm\" size=\"sm\"><FontAwesomeIcon icon={faPaperPlane} className=\"mr-2\" />Nuevo Correo</Button>\n                </Link>\n            </div>\n            \n        </div>\n        \n    )\n}\n\nMenu.propTypes = {\n    courseId       : PropTypes.string.isRequired\n}","/* \n* Async function that calls eol_course_email api \n* It will send the email to all destinataries\n*/\nimport { getAuthenticatedHttpClient } from '@edx/frontend-platform/auth';\n\nexport const postSendEmail = async( formData ) => {\n    console.log('postSendEmail loaded');\n    const url = `/courses/${ formData.courseId }/course_emails/send`;\n    const response = await getAuthenticatedHttpClient()\n        .post(url, formData, 'json')\n        .then(({status}) => {\n            console.log(status);\n            return status == 201;\n        })\n        .catch(error => {\n            console.log(error);\n            return false;\n        });\n    return response;\n};","import { useState } from \"react\"\nimport { postSendEmail } from \"../helpers/postSendEmail\";\n\nexport const useForm = ( initialState = {} ) => {\n    const [values, setValues] = useState(initialState);\n\n    const handleInputChange = ( { target } ) => {\n        /*\n            Handle Input changes\n        */\n        console.log(\"handleInputChange\");\n        if( target.name === 'studentsInput' || target.name ===  'staffInput' ){\n            handleCheckboxChange(target);\n        } else {\n            setValues({\n                ...values,\n                [ target.name ]: target.value \n            })\n        }\n        \n    }\n\n    const handleCheckboxChange = ( target ) => {\n        /*\n            Handle Checkbox Change\n            Add/remove users from State list\n        */\n        let target_values = [...values[target.name]];\n        if( target.checked ) {\n            setValues({\n                ...values,\n                [ target.name ]: [...target_values, target.id ]\n            });\n        } else {\n            target_values.splice(target_values.indexOf(target.id),1); // Remove user from list\n            setValues({\n                ...values,\n                [ target.name ]: target_values\n            });\n        }\n    }\n\n    const handleSubmit = (e) => {\n        /*\n            Handle form submit and send Email\n        */\n        e.preventDefault();\n        if( validateInputs() ) {\n            setValues({\n                ...values,\n                status: \"pending\"\n            });\n            postSendEmail( values )\n                .then( status => {\n                    if (status) {\n                        resetForm('success');\n                    } else {\n                        setValues({\n                            ...values,\n                            status: 'fail'\n                        });\n                    }\n            }); \n\n        }\n        \n        \n    }\n\n    const validateInputs = () => {\n        /*\n            Validate list length\n        */\n        const { studentsInput, staffInput } = values;\n        if(studentsInput.length + staffInput.length == 0) {\n            setValues({\n                ...values,\n                status: \"empty-list\"\n            });\n            return false;\n        }\n        return true;\n    }\n\n    const resetForm = (status='initialized') => {\n        /*\n            Clear form\n        */\n        setValues({\n            ...initialState,\n            status: status\n        });\n    }\n\n    return [ values, handleInputChange, handleSubmit ];\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Spinner, Alert} from '@edx/paragon';\n\nexport const StatusForm = ({status}) => {\n    switch (status) {\n        case \"pending\":\n            return(\n                <Spinner animation=\"border\" variant=\"primary\" className=\"d-flex mx-auto mt-2 \"/>\n            );\n        case \"fail\":\n            return(\n                <Alert variant=\"danger\" className=\"mx-4 mt-3 text-center w-100 shadow\">\n                    Error al enviar correo. Intentar nuevamente.\n                </Alert>\n            );\n        case \"success\":\n            return(\n                <Alert variant=\"success\" className=\"mx-4 mt-3 text-center w-100 shadow\">\n                    <strong>Tu mensaje fue procesado con éxito para ser enviado</strong>.<br/>Los destinatarios comenzarán a recibir el correo en los próximos minutos.\n                </Alert>\n            );\n        case \"empty-list\":\n            return(\n                <Alert variant=\"warning\" className=\"mx-4 mt-3 text-center w-100 shadow\">\n                    <strong>Debes seleccionar al menos un destinatario.</strong>\n                </Alert>\n            );\n    \n        default:\n            return(\n                <>\n                </>\n            );\n    }\n}\n\nStatusForm.propTypes = {\n    status       : PropTypes.string.isRequired\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useFetchUsers } from '../hooks/useFetchUserData';\nimport { useForm } from '../hooks/useForm';\nimport { Spinner, Form, Button, Col } from '@edx/paragon';\nimport { StatusForm } from './StatusForm';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\n\n\nexport const NewEmailForm = ( { courseId } ) => {\n    console.log('NewEmailForm loaded');\n    const { users, loading } = useFetchUsers( courseId );\n    const [ values, handleInputChange, handleSubmit] = useForm({\n        status: \"initialized\",\n        subjectInput    : \"\",\n        messageInput   : \"\",\n        studentsInput: [],\n        staffInput: [],\n        courseId: courseId\n    })\n    const { status, subjectInput, messageInput, studentsInput, staffInput } = values;\n\n    return (\n        <div className=\"rounded-lg shadow-lg py-4 px-5 my-2\">\n            <h3>Formulario Nuevo Correo </h3>\n            <Form onSubmit={handleSubmit}>\n\n                <Form.Group controlId=\"formGridSubject\">\n                    <Form.Label className=\"lead\">Asunto</Form.Label>\n                    <Form.Control required placeholder=\"Asunto del correo\" aria-describedby=\"subjectInput\" name=\"subjectInput\" onChange={ handleInputChange } value={subjectInput}/>\n                </Form.Group>\n                <Form.Group controlId=\"formGridMessage\">\n                    <Form.Label className=\"lead\">Mensaje</Form.Label>\n                    <Form.Control required as=\"textarea\" placeholder=\"Mensaje del correo\" aria-describedby=\"messageInput\" name=\"messageInput\" onChange={ handleInputChange } value={messageInput}/>\n                </Form.Group>\n                <hr/>\n                <Form.Group id=\"formGridCheckbox\">\n                </Form.Group>\n                <Form.Row>\n                    { loading && <Spinner animation=\"border\" variant=\"primary\" className=\"d-flex mx-auto mt-2 \"/> }\n                    <Form.Group as={Col} controlId=\"formGridReceiverStudent\" className=\"checkbox-group\">\n                        <Form.Label className=\"lead\">Destinatarios Estudiantes</Form.Label>\n                        <div className=\"checkbox-input\">\n                            {\n                                users\n                                .filter( ({has_role}) => !has_role )\n                                .map( (user) => (\n                                    <Form.Check \n                                        type=\"checkbox\" \n                                        className=\"pl-0\"\n                                        name=\"studentsInput\"\n                                        id={ user.username }\n                                        key={ user.username }\n                                        label={ user.name }\n                                        onChange={ handleInputChange }\n                                        checked={ studentsInput.includes(user.username) }\n                                    />\n                                ))\n                            }\n                        </div>\n                        \n                    </Form.Group>\n                    \n                    <Form.Group as={Col} controlId=\"formGridReceiverStaff\" className=\"checkbox-group\">\n                        <Form.Label className=\"lead\">Destinatarios Staff</Form.Label>\n                        <div className=\"checkbox-input\">\n                            {\n                                users\n                                .filter( ({has_role}) => has_role )\n                                .map( (user) => (\n                                    <Form.Check \n                                        type=\"checkbox\" \n                                        className=\"pl-0\"\n                                        name=\"staffInput\"\n                                        id={ user.username }\n                                        key={ user.username }\n                                        label={ user.name }\n                                        onChange={ handleInputChange }\n                                        checked={ staffInput.includes(user.username) }\n                                    />\n                                ))\n                            }\n                        </div>\n                        \n                    </Form.Group>\n                </Form.Row>\n                <Form.Row>\n                    <Button variant=\"outline-primary shadow-lg\" size=\"lg\" type=\"submit\" className=\"mx-auto\" disabled={status=='pending'}>\n                        <FontAwesomeIcon icon={faPaperPlane} className=\"mr-2\" /> Enviar Correo\n                    </Button>\n                </Form.Row>\n                <Form.Row className=\"form-status\">\n                    <StatusForm status={status} />\n                </Form.Row>\n            </Form>\n        </div>\n    )\n}\n\nNewEmailForm.propTypes = {\n    courseId       : PropTypes.string.isRequired\n}","import React, { useLayoutEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from '@edx/paragon';\n\nexport const EmailModal = ({ email, modalState, setModalState }) => {\n\n    console.log('EmailModal loaded');\n\n    const resetModalWrapperState = () => setModalState(false);\n\n    const modalRef = useRef(null)\n    // IFrame modal is stuck at the top so we have to scroll page. \n    useLayoutEffect(() => window.parent.parent.scrollTo(0, modalRef.current.modalBodyRef.current.offsetTop), [ ]);\n\n    const body = () => (\n      <div className=\"row px-2\">\n        <div className=\"font-weight-bold col col-3 py-2\">\n          Fecha\n        </div>\n        <div className=\"col col-9 py-2\">\n          { email.date }\n        </div>  \n\n        <div className=\"font-weight-bold col col-3 py-2\">\n          Enviado por\n        </div>\n        <div className=\"col col-9 py-2\">\n          { email.sender }\n        </div> \n\n        <div className=\"font-weight-bold col col-3 py-2\">\n          Asunto\n        </div>\n        <div className=\"col col-9 py-2\">\n          { email.subject }\n        </div> \n\n        <div className=\"font-weight-bold col col-3 py-2\">\n          Contenido\n        </div>\n        <div className=\"text-justify col col-9 py-2\">\n          { email.message }\n        </div>\n        \n        { \n          email.receiver_users\n          &&\n          (\n            <>\n              <div className=\"font-weight-bold col col-3 py-2\">\n                Destinatarios ({ email.receiver_users.length })\n              </div>\n              <div className=\"text-justify col col-9 py-2\">\n                <ol>\n                  {\n                    email.receiver_users.map((user) => {\n                      return(\n                        <li key={ user }>\n                          { user }\n                        </li>\n                      )\n                    })\n                  }\n                </ol>\n              </div>\n            </>\n          )\n        }\n      </div>\n    );\n\n    return (\n        <Modal\n          ref={ modalRef }\n          open={ modalState }\n          title=\"Detalle del correo\"\n          body={ body() }\n          onClose={ resetModalWrapperState }\n          buttons={[\n              <Button variant=\"primary\" onClick={ resetModalWrapperState } data-autofocus >Cerrar</Button>\n          ]}\n          renderDefaultCloseButton={false}\n          dialogClassName=\"modal-lg\"\n        />\n    )\n}\n\nEmailModal.propTypes = {\n  email         : PropTypes.object.isRequired,\n  modalState    : PropTypes.bool.isRequired,\n  setModalState : PropTypes.func.isRequired\n}","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { IconButton } from '@edx/paragon';\nimport { faInfo } from '@fortawesome/free-solid-svg-icons';\nimport { EmailModal } from './EmailModal';\nexport const EmailItem = ( { email } ) => {\n\n    console.log('EmailItem loaded');\n\n    const [modalState, setModalState] = useState(false);\n\n    const openModal = () => setModalState(true);\n\n    return (\n        <div className=\"row border-bottom\">\n            <div className=\"col col-3 pt-2\">\n                { email.date }\n            </div>\n                \n            <div className=\"col col-3 pt-2\">\n                { email.sender }\n            </div>\n                \n            <div className=\"col col-5 pt-2\">\n                { email.subject }\n            </div>\n                \n            <div className=\"col col-1\">\n                <IconButton icon={ faInfo } alt='Ver mayor información del correo' onClick={ openModal } variant=\"primary\"/>\n            </div> \n\n            {\n                modalState && <EmailModal email={email} modalState={modalState} setModalState={setModalState}/>\n            }\n\n        </div>\n    )\n}\n\nEmailItem.propTypes = {\n    email       : PropTypes.object.isRequired\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faFrown } from '@fortawesome/free-solid-svg-icons';\n\nexport const EmptyGrid = ( {title}) => {\n    return (\n        <div className=\"text-center\">\n            <FontAwesomeIcon icon={faFrown} className=\"h1\" />\n            <p>Al parecer no tienes { title.toLowerCase() }.</p>\n        </div>\n    )\n}\n\nEmptyGrid.propTypes = {\n    title       : PropTypes.string.isRequired\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EmailItem } from './EmailItem';\nimport { EmptyGrid } from './EmptyGrid';\nimport { Spinner } from '@edx/paragon';\nimport { useFetchEmails } from '../hooks/useFetchUserData';\n\nexport const EmailGrid = ( { getEmails, title, courseId } ) => {\n    console.log(`${title} loaded`);\n\n    const { data, loading } = useFetchEmails( courseId, getEmails );\n    \n    const gridContent = () => {\n        if (data.length == 0) {\n            return (\n                <EmptyGrid title={ title } />\n            );\n        }\n        return (\n            <div className=\"email-grid\">\n                <div className=\"row font-weight-bold border-bottom py-2\">\n                    <div className=\"col col-3\">\n                        Fecha\n                    </div>\n                    <div className=\"col col-3\">\n                        Enviado por\n                    </div>\n                        \n                    <div className=\"col col-5\">\n                        Asunto\n                    </div>\n                        \n                    <div className=\"col col-1 text-center\">\n                        Detalle\n                    </div> \n                </div>\n                {\n                    data.map( (email, index) => (\n                        <EmailItem \n                            key={ index }\n                            email= { email }\n                        />\n                    ))\n                }\n            </div>\n        )\n    }\n\n\n    return (\n        <div className=\"rounded-lg shadow-lg py-4 px-5 my-2\">\n            <h3>{title}</h3>\n            { loading && <Spinner animation=\"border\" variant=\"primary\" className=\"d-flex mx-auto mt-2 \"/> }\n            { !loading && gridContent() }\n        </div>\n    )\n}\n\nEmailGrid.propTypes = {\n    getEmails   : PropTypes.func.isRequired,\n    title       : PropTypes.string.isRequired,\n    courseId       : PropTypes.string.isRequired\n}","import { useEffect } from 'react';\n\nvar lastHeight;\nvar lastWidth;\n\nexport const useResizeIFrame = () => {\n    useEffect(() => {\n        // Verify iframe\n        if (window !== window.parent) {\n            document.body.className += ' view-in-mfe';\n            lastHeight = window.offsetHeight;\n            lastWidth = window.offsetWidth;\n            // Create an observer instance linked to the callback function\n            const observer = new MutationObserver(dispatchResizeMessage);\n\n            // Start observing the target node for configured mutations\n            observer.observe(document.body, { attributes: true, childList: true, subtree: true });\n            window.addEventListener('load', dispatchResizeMessage);\n            window.addEventListener('resize', dispatchResizeMessage);\n        }\n        return () => {\n            window.removeEventListener('load', dispatchResizeMessage);\n            window.removeEventListener('resize', dispatchResizeMessage);\n        }\n    }, [ ]);\n    \n}\n\n\nconst dispatchResizeMessage = (event) => {\n    console.log(\"dispatchResizeMessage\");\n    // Note: event is actually an Array of MutationRecord objects\n    // when fired from the MutationObserver\n    var eventType = event.type || 'mutate';\n    var newHeight = document.getElementById('content').offsetHeight;\n    var newWidth = document.getElementById('content').offsetWidth;\n\n    if (eventType !== 'load' && newWidth === lastWidth && newHeight === lastHeight) {\n        return;\n    }\n\n    window.parent.postMessage({\n        type: 'plugin.resize',\n        payload: {\n            width: newWidth,\n            height: newHeight,\n        }\n        }, document.referrer\n    );\n\n    lastHeight = newHeight;\n    lastWidth = newWidth;\n\n    // Within the learning microfrontend the iframe resizes to match the\n    // height of this document and it should never scroll. It does scroll\n    // ocassionally when javascript is used to focus elements on the page\n    // before the parent iframe has been resized to match the content\n    // height. This window.scrollTo is an attempt to keep the content at the\n    // top of the page. See TNL-7094\n    window.scrollTo(0, 0);\n}","/* \n* Async function that calls eol_course_email api \n* It will return a object with emails received \n*/\n\nexport const getReceivedEmails = async( courseId ) => {\n    console.log('getReceivedEmails loaded');\n    const url = `/courses/${ courseId }/course_emails/received`;\n    const response = await fetch(url, { credentials: \"same-origin\" });\n    if(response.status == 200) {\n        const data = await response.json();\n        const emails = data.map( e => {\n            return {\n                subject : e.subject,\n                message : e.message,\n                sender  : e.sender_user__profile__name,\n                date    : (new Date(e.created_at.$date)).toLocaleString('es-CL')\n            }\n        });\n        return emails;\n    } else {\n        return [];\n    }\n    \n};","/* \n* Async function that calls eol_course_email api \n* It will return a object with emails sended \n*/\n\nexport const getSendedEmails = async( courseId ) => {\n    console.log('getSendedEmails loaded');\n    const url = `/courses/${ courseId }/course_emails/sended`;\n    const response = await fetch(url, { credentials: \"same-origin\" });\n    if(response.status == 200) {\n        const data = await response.json();\n        const emails = data.map( e => {\n            return {\n                subject         : e.subject,\n                message         : e.message,\n                sender          : e.sender_user,\n                receiver_users  : e.receiver_users_list,\n                date            : (new Date(e.created_at.$date)).toLocaleString('es-CL')\n            }\n        });\n        return emails;\n    } else {\n        return [];\n    }\n};","import React from \"react\";\nimport {\n  Switch,\n  Route,\n  HashRouter\n} from \"react-router-dom\";\nimport Menu from \"./components/Menu\";\nimport { NewEmailForm } from \"./components/NewEmailForm\";\nimport { EmailGrid } from \"./components/EmailGrid\";\nimport { useResizeIFrame } from \"./hooks/useResizeIFrame\";\nimport { getReceivedEmails } from \"./helpers/getReceivedEmails\";\nimport { getSendedEmails } from \"./helpers/getSendedEmails\";\nimport { getCourseId } from \"./helpers/getCourseInfo\";\n\nexport default function CourseEmailPage() {\n  useResizeIFrame(); // Resize Iframe on height changes\n  const courseId = getCourseId();\n  return (\n    <div id=\"content\" className=\"container\">\n      <HashRouter>\n        <div>\n          <Menu courseId={courseId}/>\n          <Switch>\n            <Route exact path=\"/eol/eol_course_email/static/sended/\">\n              <EmailGrid getEmails={getSendedEmails} title=\"Correos Enviados\" courseId={ courseId }/>\n            </Route>\n            <Route exact path=\"/eol/eol_course_email/static/received/\">\n              <EmailGrid getEmails={getReceivedEmails} title=\"Correos Recibidos\" courseId={ courseId }/>\n            </Route>\n            <Route exact path=\"/eol/eol_course_email/static/new/\">\n              <NewEmailForm courseId={ courseId }/>\n            </Route>\n            <Route exact path=\"/eol/eol_course_email/static/:courseId/\">\n              <EmailGrid getEmails={getReceivedEmails} title=\"Correos Recibidos\" courseId={ courseId }/>\n            </Route>\n          </Switch>\n        </div>\n      </HashRouter>\n    </div>\n  );\n}","/* \n* This hook will get course id from URL \n*   e.g: /eol/eol_course_email/static#/eol/eol_course_email/static/course-v1:eol+prueba03+2020\n*   course id will be course-v1:eol+prueba03+2020\n*/\n\nexport const getCourseId = ( ) =>  window.location.hash.substring(1).split(/[\\/]+/).pop();","export default __webpack_public_path__ + \"favicon.ico\";","import 'babel-polyfill';\n\nimport {\n  APP_INIT_ERROR, APP_READY, subscribe, initialize,\n} from '@edx/frontend-platform';\nimport { AppProvider, ErrorPage } from '@edx/frontend-platform/react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport appMessages from './i18n';\nimport CourseEmailPage from './course_email/CourseEmailPage';\n\nimport './index.scss';\nimport './assets/favicon.ico';\n\nsubscribe(APP_READY, () => {\n  ReactDOM.render(\n    <AppProvider>\n      <CourseEmailPage />\n    </AppProvider>,\n    document.getElementById('root'),\n  );\n});\n\nsubscribe(APP_INIT_ERROR, (error) => {\n  ReactDOM.render(<ErrorPage message={error.message} />, document.getElementById('root'));\n});\n\ninitialize({\n  messages: [\n    appMessages,\n  ],\n});\n"],"sourceRoot":""}